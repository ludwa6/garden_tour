<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>QR Admin</title>

    <!-- Dynamic base path: works on localhost and GitHub Pages -->
  <script>
    if (location.hostname === "127.0.0.1" || location.hostname === "localhost") {
      document.write('<base href="/">');
    } else {
      document.write('<base href="/garden_tour/">');
    }
  </script>

  <link rel="stylesheet" href="style.css?v=2">
</head>
<body class="qr-admin-page">
  <div class="appbar">
    <h1>QR Admin</h1>
    <a href="index.html" class="back-btn">← Back to main</a>
  </div>

  <main id="qr-admin-content">
    <!-- Controls -->
    <div class="controls">
      <label for="observationSelect">Select Observation:</label>
      <select id="observationSelect">
        <option value="">Loading...</option>
      </select>
    </div>

    <!-- QR code preview -->
    <div id="qr-preview">
      <h3>Custom QR Code:</h3>
      <canvas id="qrCanvas"></canvas>
    </div>
    
    <!-- Observation preview -->
    <div id="observationPreview" class="preview"></div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  <script src="qr_admin.js"></script>

<footer>
  <nav>
    <nav style="
    position:fixed; bottom:0; left:0; right:0;
    background:#2c7; color:white;
    display:flex; justify-content:space-around;
    padding:0.6em 0; font-size:0.9rem;
    box-shadow:0 -2px 4px rgba(0,0,0,0.2);
    z-index:999;">
    <a class="nav-link" data-target="index.html">🏠 Home</a>
    <a class="nav-link" data-target="qr_admin.html">📷 QR Admin</a>
    <a class="nav-link" data-target="tripplan.html">🗺 Trip Plan</a>
    <a class="nav-link" data-target="userjournals.html">📓 User Journals</a>
    <a class="nav-link" data-target="admin.html">🔧 Admin Dashboard</a>
  </nav>

<script>
  // detect whether we’re on GitHub Pages or local dev
  const basePath = window.location.hostname.includes("github.io")
    ? "/garden_tour/"
    : "/";

  // rewrite footer nav links
  document.querySelectorAll(".nav-link").forEach(link => {
    link.href = basePath + link.dataset.target;
  });
</script> 

</body>
</html>

